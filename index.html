<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משחק מילים באנגלית</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            direction: rtl;
            text-align: center;
            background-color: #f0f8ff;
            color: #333;
            margin: 0;
            padding: 0;
        }

        h1 {
            color: #4caf50;
        }

        .question {
            font-size: 1.5em;
            margin: 20px 0;
        }

        .options {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .option {
            background-color: #fff;
            border: 2px solid #4caf50;
            border-radius: 10px;
            padding: 10px 20px;
            margin: 10px;
            cursor: pointer;
            transition: 0.3s;
        }

        .option:hover {
            background-color: #4caf50;
            color: #fff;
        }

        .feedback {
            font-size: 1.2em;
            margin: 20px;
        }

        .button {
            padding: 10px 20px;
            background-color: #4caf50;
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
        }

        .button:hover {
            background-color: #45a049;
        }

        #fireworks {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <h1>משחק מילים באנגלית</h1>
    <div id="game">
        <div class="question" id="question">שאלה תופיע כאן</div>
        <div class="options" id="options"></div>
        <div class="feedback" id="feedback"></div>
        <button class="button" id="nextButton" onclick="nextQuestion()" style="display: none;">שאלה הבאה</button>
        <button class="button" id="restartButton" onclick="restartGame()" style="display: none;">שחק שוב</button>
    </div>
    <canvas id="fireworks"></canvas>

    <script>
        // רשימת השאלות והאפשרויות
        const questions = [
            { word: "build", options: ["לבנות", "לכתוב", "משהו"], correct: "לבנות" },
            { word: "write", options: ["לכתוב", "חולה", "הורה"], correct: "לכתוב" },
            { word: "something", options: ["משהו", "אחרי", "דרך"], correct: "משהו" },
            { word: "way", options: ["דרך", "עוד", "לבנות"], correct: "דרך" },
            { word: "after", options: ["אחרי", "לכתוב", "חולה"], correct: "אחרי" },
            { word: "more", options: ["עוד", "משהו", "הורה"], correct: "עוד" },
            { word: "parent", options: ["הורה", "דרך", "אחרי"], correct: "הורה" },
            { word: "sick", options: ["חולה", "עוד", "לכתוב"], correct: "חולה" },

            // עשר המילים החדשות
            { word: "poor",  options: ["עני", "שלט", "דרך"],    correct: "עני" },
            { word: "sign",  options: ["שלט", "עוד", "אחרי"],   correct: "שלט" },
            { word: "money", options: ["כסף", "חולה", "הורה"],  correct: "כסף" },
            { word: "our",   options: ["שלנו", "דרך", "משהו"],  correct: "שלנו" },
            { word: "prize", options: ["פרס", "לבנות", "דרך"],  correct: "פרס" },
            { word: "us",    options: ["אותנו", "לכתוב", "חולה"], correct: "אותנו" },
            { word: "cry",   options: ["לבכות", "עוד", "הורה"], correct: "לבכות" },
            { word: "hurt",  options: ["לפגוע", "אחרי", "דרך"], correct: "לפגוע" },
            { word: "keep",  options: ["לשמור", "אחרי", "לבנות"], correct: "לשמור" },
            { word: "of",    options: ["של", "משהו", "לבכות"],   correct: "של" },
        ];

        let currentQuestion = 0;

        // פונקציה לערבוב מערכים
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuestion() {
            const questionElement = document.getElementById("question");
            const optionsElement = document.getElementById("options");
            const feedbackElement = document.getElementById("feedback");
            const nextButton = document.getElementById("nextButton");

            feedbackElement.textContent = "";
            nextButton.style.display = "none";

            const question = questions[currentQuestion];
            questionElement.textContent = `מה הפירוש של המילה "${question.word}"?`;

            // השמעת המילה באנגלית
            speakWord(question.word);

            // הכנת כפתורי התשובות
            optionsElement.innerHTML = "";

            // שכפול וערבוב של התשובות
            let shuffledOptions = [...question.options];
            shuffle(shuffledOptions);

            // יצירת כפתור לכל אפשרות במערך המעורב
            shuffledOptions.forEach(option => {
                const button = document.createElement("button");
                button.textContent = option;
                button.className = "option";
                button.onclick = () => checkAnswer(option);
                optionsElement.appendChild(button);
            });
        }

        // שימוש ב-API של דפדפן להקראה באנגלית
        function speakWord(word) {
            const utterance = new SpeechSynthesisUtterance(word);
            utterance.lang = "en-US";
            window.speechSynthesis.speak(utterance);
        }

        // בדיקה אם התשובה נכונה
        function checkAnswer(selected) {
            const question = questions[currentQuestion];
            const feedbackElement = document.getElementById("feedback");
            const nextButton = document.getElementById("nextButton");

            if (selected === question.correct) {
                feedbackElement.textContent = "תשובה נכונה! כל הכבוד!";
                feedbackElement.style.color = "green";
                launchFireworks();
            } else {
                feedbackElement.textContent = `תשובה שגויה. התשובה הנכונה היא: ${question.correct}`;
                feedbackElement.style.color = "red";
            }

            nextButton.style.display = "inline-block";
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < questions.length) {
                loadQuestion();
            } else {
                const gameElement = document.getElementById("game");
                gameElement.innerHTML = "<h2>סיימת את המשחק! כל הכבוד!</h2>";
                document.getElementById("restartButton").style.display = "inline-block";
            }
        }

        function restartGame() {
            currentQuestion = 0;
            document.getElementById("restartButton").style.display = "none";
            document.getElementById("game").innerHTML = `
                <div class="question" id="question"></div>
                <div class="options" id="options"></div>
                <div class="feedback" id="feedback"></div>
                <button class="button" id="nextButton" onclick="nextQuestion()" style="display: none;">שאלה הבאה</button>
            `;
            loadQuestion();
        }

        // אפקט זיקוקים נחמד כשעונים נכון
        function launchFireworks() {
            const canvas = document.getElementById("fireworks");
            const ctx = canvas.getContext("2d");

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            let particles = [];

            function createParticle(x, y) {
                const particle = {
                    x: x,
                    y: y,
                    radius: Math.random() * 4 + 1,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    speedX: Math.random() * 4 - 2,
                    speedY: Math.random() * 4 - 2,
                    life: 100,
                };
                particles.push(particle);
            }

            // מתחילים את "הפיצוץ" ממרכז המסך
            for (let i = 0; i < 100; i++) {
                createParticle(canvas.width / 2, canvas.height / 2);
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach((particle, index) => {
                    particle.x += particle.speedX;
                    particle.y += particle.speedY;
                    particle.life--;

                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);
                    ctx.fillStyle = particle.color;
                    ctx.fill();

                    if (particle.life <= 0) {
                        particles.splice(index, 1);
                    }
                });

                if (particles.length > 0) {
                    requestAnimationFrame(animate);
                }
            }

            animate();
        }

        // הטענת השאלה הראשונה
        loadQuestion();
    </script>
</body>
</html>
